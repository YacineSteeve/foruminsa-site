generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["driverAdapters"]
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model RateLimit {
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  key    String    @id
  points Int       @default(0)
  expire DateTime?
}

model Admin {
  id        String   @id @default(cuid(2))
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  email    String @unique
  password String
}

model Sector {
  id        String   @id @default(cuid(2))
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  name String

  companies Company[]
}

model ForumRoom {
  id        String   @id @default(cuid(2))
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  name     String
  floor    Int
  building String

  companies Company[]

  @@unique([name, floor, building])
}

model SocialLink {
  id        String   @id @default(cuid(2))
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  type String
  url  String

  company   Company @relation(fields: [companyId], references: [id])
  companyId String
}

model Company {
  id        String   @id @default(cuid(2))
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  name         String
  slug         String @unique
  description  String
  logoUrl      String
  studyLevels  String
  specialities String
  city         String
  country      String

  address         String?
  postalCode      String?
  websiteUrl      String?
  carbonFootprint Float?

  sectors     Sector[]
  socialLinks SocialLink[]

  room   ForumRoom? @relation(fields: [roomId], references: [id])
  roomId String?
}
